<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ØºÙ†ÙŠÙ„ÙŠ - Ø®Ù„ÙŠÙƒ Ù…Ø¹Ø§ÙŠØ§</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Aref+Ruqaa:wght@700&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-dark: #0a0b10;
            --pink-accent: #f83292;
            --gold: #ffcc00;
        }

        body, html {
            background-color: var(--bg-dark);
            color: white;
            font-family: 'Cairo', sans-serif;
            margin: 0; padding: 0;
            overflow: hidden;
            height: 100%;
        }

        /* ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¹Ø±Ø¶ - Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø³Ù„Ø³ */
        #view-screen { 
            display: none; height: 100vh; width: 100%; 
            overflow-y: scroll; scroll-snap-type: y mandatory;
            scrollbar-width: none;
        }

        section {
            height: 100vh; width: 100%; position: relative;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            scroll-snap-align: start; text-align: center;
        }

        /* Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø®Ù„ÙÙŠØ§Øª Ù…Ù† Ø§Ù„ØµÙˆØ±Ø© */
        section:nth-child(1) { background: radial-gradient(circle, #2a1b3d 0%, #0f0a1a 100%); } /* Ø¨Ù†ÙØ³Ø¬ÙŠ */
        section:nth-child(2) { background: linear-gradient(180deg, #b8d2e9 0%, #8ba9c9 100%); } /* Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­ */
        section:nth-child(3) { background: linear-gradient(180deg, #9bb8d9 0%, #7292b8 100%); } /* Ø£Ø²Ø±Ù‚ Ù…ØªÙˆØ³Ø· */
        section:nth-child(4) { background: radial-gradient(circle, #3d1a4a 0%, #12081a 100%); } /* Ø£Ø±Ø¬ÙˆØ§Ù†ÙŠ */
        section:nth-child(5) { background: linear-gradient(180deg, #1e3a5f 0%, #0a1424 100%); } /* ÙƒØ­Ù„ÙŠ */

        /* Ø§Ù„Ù†Ø¬Ù…Ø© (Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø£ÙˆÙ„) */
        .star-shape {
            width: 150px; height: 150px;
            background: none; border: 2px solid rgba(255,255,255,0.8);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 20px;
        }

        /* Ø§Ù„ÙƒØ¨Ø³ÙˆÙ„Ø© (Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø«Ø§Ù†ÙŠ) */
        .white-pill {
            background: white; color: #555;
            padding: 10px 45px; border-radius: 50px;
            font-size: 22px; font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        /* Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„ØµÙˆØªÙŠ (Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø±Ø§Ø¨Ø¹) */
        .v-bars { display: flex; align-items: center; gap: 4px; height: 50px; margin-bottom: 20px;}
        .v-bar { width: 5px; background: white; border-radius: 10px; animation: scaleY 0.6s infinite alternate; }
        @keyframes scaleY { from { height: 10px; } to { height: 40px; } }

        /* Ø§Ù„Ù…Ø³ØªØ·ÙŠÙ„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ */
        .final-box {
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 20px; padding: 40px;
            width: 70%; background: rgba(255,255,255,0.05);
        }


    </style>
</head>
<body>

<div class="maker-layout" id="maker-ui">
    <div class="step-card">
        <h2 style="text-align: center; color: var(--gold); font-family: 'Aref Ruqaa';">ØºÙ†ÙŠÙ„ÙŠ ğŸµ</h2>
        
        <div id="setup-step">
            <div class="song-option" id="default-song" onclick="selectSong(this, 'Ø®Ù„ÙŠÙƒ Ù…Ø¹Ø§ÙŠØ§', 'https://j.top4top.io/m_369843dq30.mp3')">
                <img src="https://i.ibb.co/VWV0pY6/amr.jpg" class="song-img">
                <div style="text-align: right;"><strong>Ø®Ù„ÙŠÙƒ Ù…Ø¹Ø§ÙŠØ§</strong><br><small>Ø¹Ù…Ø±Ùˆ Ø¯ÙŠØ§Ø¨</small></div>
            </div>
            <div id="name-box" style="display: none; margin-top: 20px;">
                <input type="text" id="nameInput" class="main-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù…">
                <button class="btn-action" onclick="generateLink()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· âœ¨</button>
            </div>
        </div>

        <div id="result-step" style="display: none; text-align: center;">
            <p>Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ø±Ø³Ø§Ù„!</p>
            <div id="linkOutput" style="background:#000; padding:15px; border-radius:10px; font-size:10px; word-break:break-all; border:1px solid var(--pink-accent); margin-bottom: 15px;"></div>
            <button class="btn-action" onclick="copyLink()">Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ğŸ“‹</button>
        </div>
    </div>
</div>

<div id="start-overlay" style="display: none;">
    <div style="font-size: 80px;">ğŸ’–</div>
    <h2 id="greetName" style="font-family: 'Aref Ruqaa';"></h2>
    <button class="btn-action" style="width: 200px;" onclick="initExperience()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§ØºÙ†ÙŠØ© ğŸµ</button>
</div>

<div id="view-screen">
    <section>
        <div class="star-shape"></div>
        <h2 id="finalName" style="font-size: 40px; font-weight: 300;">big name text</h2>
        <p style="opacity: 0.7;">"final Name-1"</p>
    </section>

    <section>
        <div style="position: relative;">
            <div style="position: absolute; top:-30px; left:-20px; font-size:30px;">ğŸ«§</div>
            <div class="white-pill" id="sceneName">Final Name</div>
            <div style="position: absolute; bottom:-20px; right:-20px; font-size:20px; color:gold;">â­</div>
        </div>
        <p style="margin-top: 40px; color: #444;">"ÙˆØ§ Ø¢Ù‡Ø§Ø± Ù„ØªØ­Ø·Ø§Ù… ÙÙŠ"</p>
    </section>

    <section>
        <div style="width:160px; height:160px; border: 3px solid #fff; border-radius:50%; overflow:hidden; box-shadow: 0 0 20px rgba(255,255,255,0.4);">
             <img src="https://via.placeholder.com/160" style="width:100%; height:100%; object-fit:cover;">
        </div>
        <p style="margin-top: 25px;">"Ù…Ù† Ø§Ù„ÙŠ ÙØ¹ÙŠÙ„ 36 Ø­Ø¨ÙŠØ¨ÙŠ Ø§Ù„Ø³Ø¯Ù†"</p>
    </section>

    <section>
        <div class="v-bars">
            <div class="v-bar" style="animation-delay: 0.1s"></div>
            <div class="v-bar" style="height:50px; animation-delay: 0.3s"></div>
            <div class="v-bar" style="animation-delay: 0.2s"></div>
            <div class="v-bar" style="height:60px; animation-delay: 0.4s"></div>
            <div class="v-bar" style="animation-delay: 0.5s"></div>
        </div>
        <p>Ø§Ù„Ù†Ù‚Ù„ 30% âœ¨</p>
    </section>

    <section>
        <div class="final-box">
            <p style="color: var(--gold); font-size: 14px;">Thank you text-2</p>
            <h2 style="font-size: 45px; margin: 10px 0;">Ù‚Ù… Ø§Ù„Ø­ÙŠØ±Ø¯</h2>
            <p style="opacity: 0.6; font-size: 12px;">ÙØ§ÙŠÙ„ÙŠ Ø§Ù„Ù‡ bhil</p>
        </div>
    </section>
</div>



<audio id="player" loop></audio>

<script>
    let songUrl = "";

    function selectSong(el, name, url) {
        document.querySelectorAll('.song-option').forEach(d => d.classList.remove('selected'));
        el.classList.add('selected');
        songUrl = url; 
        document.getElementById('name-box').style.display = 'block';
    }

    function generateLink() {
        const name = document.getElementById('nameInput').value;
        if (!name) return alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… Ø£ÙˆÙ„Ø§Ù‹");
        const link = window.location.origin + window.location.pathname + "?to=" + encodeURIComponent(name) + "&m=" + encodeURIComponent(songUrl);
        document.getElementById('setup-step').style.display = 'none';
        document.getElementById('result-step').style.display = 'block';
        document.getElementById('linkOutput').innerText = link;
    }

    function copyLink() {
        navigator.clipboard.writeText(document.getElementById('linkOutput').innerText);
        alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·!");
    }

    window.onload = function() {
        const params = new URLSearchParams(window.location.search);
        if (params.has('to')) {
            const name = decodeURIComponent(params.get('to'));
            document.getElementById('maker-ui').style.display = 'none';
            document.getElementById('start-overlay').style.display = 'flex';
            document.getElementById('view-screen').style.display = 'block';
            document.getElementById('greetName').innerText = "Ø¥Ù„Ù‰ " + name;
            document.getElementById('finalName').innerText = name;
            document.getElementById('sceneName').innerText = name;
            songUrl = decodeURIComponent(params.get('m')) || "https://j.top4top.io/m_369843dq30.mp3";
            
            const box = document.getElementById('stars-box');
            for(let i=0; i<40; i++) {
                let s = document.createElement('div');
                s.className = 'star';
                s.style.top = Math.random()*100+'%';
                s.style.left = Math.random()*100+'%';
                box.appendChild(s);
            }
        }
    };

    function initExperience() {
        document.getElementById('start-overlay').style.display = 'none';
        const audio = document.getElementById('player');
        audio.src = songUrl;
        audio.play();

        startAutoScroll(); // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø°ÙƒÙŠØ© Ù‡Ù†Ø§
    }


        let current = 0;
        const sections = document.querySelectorAll('section');
    function startAutoScroll() {
        let current = 0;
        const sections = document.querySelectorAll('section');
        const viewScreen = document.getElementById('view-screen');

        function scrollNext() {
            current = (current + 1) % sections.length;
            
            viewScreen.scrollTo({
                top: current * window.innerHeight,
                behavior: 'smooth'
            });

            // ØªØ­Ø¯ÙŠØ¯ ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ù‡Ø¯
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù‡Ùˆ Ø§Ù„Ø£Ø®ÙŠØ± (Ø§Ù„Ø®Ø§ØªÙ…Ø©)
            let waitTime;
            if (current === sections.length - 1) {
                waitTime = 12000; // ÙˆÙ‚Øª Ø·ÙˆÙŠÙ„ Ù„Ù„Ø®Ø§ØªÙ…Ø© (12 Ø«Ø§Ù†ÙŠØ© Ù…Ø«Ù„Ø§Ù‹) Ù‚Ø¨Ù„ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©
            } else if (current === 0) {
                waitTime = 6000; // ÙˆÙ‚Øª Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø£ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„Ø¹ÙˆØ¯Ø©
            } else {
                waitTime = 6000; // ÙˆÙ‚Øª Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
            }

            setTimeout(scrollNext, waitTime);
        }

        // Ø§Ø¨Ø¯Ø£ Ø£ÙˆÙ„ Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨Ø¹Ø¯ 6 Ø«ÙˆØ§Ù†Ù Ù…Ù† Ø§Ù„ØªØ´ØºÙŠÙ„
        setTimeout(scrollNext, 6000);
    }

</script>
</body>
</html>
